---
layout: docs
page_title: Configuration
description: This section documents configuration options for the Vault Helm chart
---

# Configuration

@include 'helm/version.mdx'

The chart is highly customizable using
[Helm configuration values](https://helm.sh/docs/intro/using_helm/#customizing-the-chart-before-installing).
Each value has a default tuned for an optimal getting started experience
with Vault. Before going into production, please review the parameters below
and consider if they're appropriate for your deployment.

<!-- codegen: start -->

## Top-Level Stanzas

Use these links to navigate to a particular top-level stanza.

- [`global`](#h-global)
- [`injector`](#h-injector)
- [`server`](#h-server)
- [`ui`](#h-ui)
- [`csi`](#h-csi)
- [`serverTelemetry`](#h-servertelemetry)

## All Values

### global ((#h-global))

- `global` ((#v-global))

  - `enabled` ((#v-global-enabled)) (`boolean: true`) - enabled is the master enabled switch. Setting this to true or false
    will enable or disable all the components within this chart by default.

  - `namespace` ((#v-global-namespace)) (`string: ""`) - The namespace to deploy to. Defaults to the `helm` installation namespace.

  - `imagePullSecrets` ((#v-global-imagepullsecrets)) (`map`) - Image pull secret to use for registry authentication.
    Alternatively, the value may be specified as an array of strings.

  - `tlsDisable` ((#v-global-tlsdisable)) (`boolean: true`) - TLS for end-to-end encrypted transport

  - `externalVaultAddr` ((#v-global-externalvaultaddr)) (`string: ""`) - External vault server address for the injector and CSI provider to use.
    Setting this will disable deployment of a vault server.

  - `openshift` ((#v-global-openshift)) (`boolean: false`) - If deploying to OpenShift

  - `psp` ((#v-global-psp)) - Create PodSecurityPolicy for pods

    - `enable` ((#v-global-psp-enable)) (`boolean: false`)

    - `annotations` ((#v-global-psp-annotations)) (`string`) - Annotation for PodSecurityPolicy.
      This is a multi-line templated string map, and can also be set as YAML.

  - `serverTelemetry` ((#v-global-servertelemetry))

    - `prometheusOperator` ((#v-global-servertelemetry-prometheusoperator)) (`boolean: false`) - Enable integration with the Prometheus Operator
      See the top level serverTelemetry section below before enabling this feature.

### injector ((#h-injector))

- `injector` ((#v-injector))

  - `enabled` ((#v-injector-enabled)) (`string: global.enabled`) - True if you want to enable vault agent injection.

  - `replicas` ((#v-injector-replicas)) (`integer: 1`)

  - `port` ((#v-injector-port)) (`integer: 8080`) - Configures the port the injector should listen on

  - `leaderElector` ((#v-injector-leaderelector)) - If multiple replicas are specified, by default a leader will be determined
    so that only one injector attempts to create TLS certificates.

    - `enabled` ((#v-injector-leaderelector-enabled)) (`boolean: true`)

  - `metrics` ((#v-injector-metrics)) - If true, will enable a node exporter metrics endpoint at /metrics.

    - `enabled` ((#v-injector-metrics-enabled)) (`boolean: false`)

  - `externalVaultAddr` ((#v-injector-externalvaultaddr)) (`string: ""`) - Deprecated: Please use global.externalVaultAddr instead.

  - `image` ((#v-injector-image)) - image sets the repo and tag of the vault-k8s image to use for the injector.

    - `repository` ((#v-injector-image-repository)) (`string: hashicorp/vault-k8s`)

    - `tag` ((#v-injector-image-tag)) (`string: 1.2.1`)

    - `pullPolicy` ((#v-injector-image-pullpolicy)) (`string: IfNotPresent`)

  - `agentImage` ((#v-injector-agentimage)) - agentImage sets the repo and tag of the Vault image to use for the Vault Agent
    containers.  This should be set to the official Vault image.  Vault 1.3.1+ is
    required.

    - `repository` ((#v-injector-agentimage-repository)) (`string: hashicorp/vault`)

    - `tag` ((#v-injector-agentimage-tag)) (`string: 1.14.0`)

  - `agentDefaults` ((#v-injector-agentdefaults)) - The default values for the injected Vault Agent containers.

    - `cpuLimit` ((#v-injector-agentdefaults-cpulimit)) (`string: 500m`) - For more information on configuring resources, see the K8s documentation:
      https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/

    - `cpuRequest` ((#v-injector-agentdefaults-cpurequest)) (`string: 250m`)

    - `memLimit` ((#v-injector-agentdefaults-memlimit)) (`string: 128Mi`)

    - `memRequest` ((#v-injector-agentdefaults-memrequest)) (`string: 64Mi`)

    - `template` ((#v-injector-agentdefaults-template)) (`string: map`) - Default template type for secrets when no custom template is specified.
      Possible values include: "json" and "map".

    - `templateConfig` ((#v-injector-agentdefaults-templateconfig)) - Default values within Agent's template_config stanza.

      - `exitOnRetryFailure` ((#v-injector-agentdefaults-templateconfig-exitonretryfailure)) (`boolean: true`)

      - `staticSecretRenderInterval` ((#v-injector-agentdefaults-templateconfig-staticsecretrenderinterval)) (`string: ""`)

  - `livenessProbe` ((#v-injector-livenessprobe)) - Used to define custom livenessProbe settings

    - `failureThreshold` ((#v-injector-livenessprobe-failurethreshold)) (`integer: 2`) - When a probe fails, Kubernetes will try failureThreshold times before giving up

    - `initialDelaySeconds` ((#v-injector-livenessprobe-initialdelayseconds)) (`integer: 5`) - Number of seconds after the container has started before probe initiates

    - `periodSeconds` ((#v-injector-livenessprobe-periodseconds)) (`integer: 2`) - How often (in seconds) to perform the probe

    - `successThreshold` ((#v-injector-livenessprobe-successthreshold)) (`integer: 1`) - Minimum consecutive successes for the probe to be considered successful after having failed

    - `timeoutSeconds` ((#v-injector-livenessprobe-timeoutseconds)) (`integer: 5`) - Number of seconds after which the probe times out.

  - `readinessProbe` ((#v-injector-readinessprobe)) - Used to define custom readinessProbe settings

    - `failureThreshold` ((#v-injector-readinessprobe-failurethreshold)) (`integer: 2`) - When a probe fails, Kubernetes will try failureThreshold times before giving up

    - `initialDelaySeconds` ((#v-injector-readinessprobe-initialdelayseconds)) (`integer: 5`) - Number of seconds after the container has started before probe initiates

    - `periodSeconds` ((#v-injector-readinessprobe-periodseconds)) (`integer: 2`) - How often (in seconds) to perform the probe

    - `successThreshold` ((#v-injector-readinessprobe-successthreshold)) (`integer: 1`) - Minimum consecutive successes for the probe to be considered successful after having failed

    - `timeoutSeconds` ((#v-injector-readinessprobe-timeoutseconds)) (`integer: 5`) - Number of seconds after which the probe times out.

  - `startupProbe` ((#v-injector-startupprobe)) - Used to define custom startupProbe settings

    - `failureThreshold` ((#v-injector-startupprobe-failurethreshold)) (`integer: 12`) - When a probe fails, Kubernetes will try failureThreshold times before giving up

    - `initialDelaySeconds` ((#v-injector-startupprobe-initialdelayseconds)) (`integer: 5`) - Number of seconds after the container has started before probe initiates

    - `periodSeconds` ((#v-injector-startupprobe-periodseconds)) (`integer: 5`) - How often (in seconds) to perform the probe

    - `successThreshold` ((#v-injector-startupprobe-successthreshold)) (`integer: 1`) - Minimum consecutive successes for the probe to be considered successful after having failed

    - `timeoutSeconds` ((#v-injector-startupprobe-timeoutseconds)) (`integer: 5`) - Number of seconds after which the probe times out.

  - `authPath` ((#v-injector-authpath)) (`string: auth/kubernetes`) - Mount Path of the Vault Kubernetes Auth Method.

  - `logLevel` ((#v-injector-loglevel)) (`string: info`) - Configures the log verbosity of the injector.
    Supported log levels include: trace, debug, info, warn, error

  - `logFormat` ((#v-injector-logformat)) (`string: standard`) - Configures the log format of the injector. Supported log formats: "standard", "json".

  - `revokeOnShutdown` ((#v-injector-revokeonshutdown)) (`boolean: false`) - Configures all Vault Agent sidecars to revoke their token when shutting down

  - `webhook` ((#v-injector-webhook))

    - `failurePolicy` ((#v-injector-webhook-failurepolicy)) (`string: Ignore`) - Configures failurePolicy of the webhook. The "unspecified" default behaviour depends on the
      API Version of the WebHook.
      To block pod creation while the webhook is unavailable, set the policy to `Fail` below.
      See https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#failure-policy

    - `matchPolicy` ((#v-injector-webhook-matchpolicy)) (`string: Exact`) - matchPolicy specifies the approach to accepting changes based on the rules of
      the MutatingWebhookConfiguration.
      See https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-matchpolicy
      for more details.

    - `timeoutSeconds` ((#v-injector-webhook-timeoutseconds)) (`integer: 30`) - timeoutSeconds is the amount of seconds before the webhook request will be ignored
      or fails.
      If it is ignored or fails depends on the failurePolicy
      See https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts
      for more details.

    - `namespaceSelector` ((#v-injector-webhook-namespaceselector)) - namespaceSelector is the selector for restricting the webhook to only
      specific namespaces.
      See https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-namespaceselector
      for more details.
      Example:
      namespaceSelector:
         matchLabels:
           sidecar-injector: enabled

    - `objectSelector` ((#v-injector-webhook-objectselector)) (`string`) - objectSelector is the selector for restricting the webhook to only
      specific labels.
      See https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-objectselector
      for more details.
      Example:
      objectSelector:
         matchLabels:
           vault-sidecar-injector: enabled

    - `annotations` ((#v-injector-webhook-annotations)) - Extra annotations to attach to the webhook

  - `failurePolicy` ((#v-injector-failurepolicy)) (`string: Ignore`) - Deprecated: please use 'webhook.failurePolicy' instead
    Configures failurePolicy of the webhook. The "unspecified" default behaviour depends on the
    API Version of the WebHook.
    To block pod creation while webhook is unavailable, set the policy to `Fail` below.
    See https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#failure-policy

  - `namespaceSelector` ((#v-injector-namespaceselector)) - Deprecated: please use 'webhook.namespaceSelector' instead
    namespaceSelector is the selector for restricting the webhook to only
    specific namespaces.
    See https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-namespaceselector
    for more details.
    Example:
    namespaceSelector:
       matchLabels:
         sidecar-injector: enabled

  - `objectSelector` ((#v-injector-objectselector)) - Deprecated: please use 'webhook.objectSelector' instead
    objectSelector is the selector for restricting the webhook to only
    specific labels.
    See https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-objectselector
    for more details.
    Example:
    objectSelector:
       matchLabels:
         vault-sidecar-injector: enabled

  - `webhookAnnotations` ((#v-injector-webhookannotations)) - Deprecated: please use 'webhook.annotations' instead
    Extra annotations to attach to the webhook

  - `certs` ((#v-injector-certs))

    - `secretName` ((#v-injector-certs-secretname)) (`string: null`) - secretName is the name of the secret that has the TLS certificate and
      private key to serve the injector webhook. If this is null, then the
      injector will default to its automatic management mode that will assign
      a service account to the injector to generate its own certificates.

    - `caBundle` ((#v-injector-certs-cabundle)) (`string: ""`) - caBundle is a base64-encoded PEM-encoded certificate bundle for the CA
      that signed the TLS certificate that the webhook serves. This must be set
      if secretName is non-null unless an external service like cert-manager is
      keeping the caBundle updated.

    - `certName` ((#v-injector-certs-certname)) (`string: tls.crt`) - certName and keyName are the names of the files within the secret for
      the TLS cert and private key, respectively. These have reasonable
      defaults but can be customized if necessary.

    - `keyName` ((#v-injector-certs-keyname)) (`string: tls.key`)

  - `securityContext` ((#v-injector-securitycontext)) - Security context for the pod template and the injector container
    The default pod securityContext is:
      runAsNonRoot: true
      runAsGroup: {{ .Values.injector.gid | default 1000 }}
      runAsUser: {{ .Values.injector.uid | default 100 }}
      fsGroup: {{ .Values.injector.gid | default 1000 }}
    and for container is
       allowPrivilegeEscalation: false
       capabilities:
         drop:
           - ALL

    - `pod` ((#v-injector-securitycontext-pod))

    - `container` ((#v-injector-securitycontext-container))

  - `resources` ((#v-injector-resources))

  - `extraEnvironmentVars` ((#v-injector-extraenvironmentvars)) - extraEnvironmentVars is a list of extra environment variables to set in the
    injector deployment.

  - `affinity` ((#v-injector-affinity)) (`string`) - Affinity Settings for injector pods
    This can either be a multi-line string or YAML matching the PodSpec's affinity field.
    Commenting out or setting as empty the affinity variable, will allow
    deployment of multiple replicas to single node services such as Minikube.

  - `topologySpreadConstraints` ((#v-injector-topologyspreadconstraints)) (`map`) - Topology settings for injector pods
    ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
    This should be either a multi-line string or YAML matching the topologySpreadConstraints array
    in a PodSpec.

  - `tolerations` ((#v-injector-tolerations)) (`map`) - Toleration Settings for injector pods
    This should be either a multi-line string or YAML matching the Toleration array
    in a PodSpec.

  - `nodeSelector` ((#v-injector-nodeselector)) - nodeSelector labels for server pod assignment, formatted as a multi-line string or YAML map.
    ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector
    Example:
    nodeSelector:
      beta.kubernetes.io/arch: amd64

  - `priorityClassName` ((#v-injector-priorityclassname)) (`string: ""`) - Priority class for injector pods

  - `annotations` ((#v-injector-annotations)) - Extra annotations to attach to the injector pods
    This can either be YAML or a YAML-formatted multi-line templated string map
    of the annotations to apply to the injector pods

  - `extraLabels` ((#v-injector-extralabels)) - Extra labels to attach to the agent-injector
    This should be a YAML map of the labels to apply to the injector

  - `hostNetwork` ((#v-injector-hostnetwork)) (`boolean: false`) - Should the injector pods run on the host network (useful when using
    an alternate CNI in EKS)

  - `service` ((#v-injector-service)) - Injector service specific config

    - `annotations` ((#v-injector-service-annotations)) - Extra annotations to attach to the injector service

  - `serviceAccount` ((#v-injector-serviceaccount)) - Injector serviceAccount specific config

    - `annotations` ((#v-injector-serviceaccount-annotations)) - Extra annotations to attach to the injector serviceAccount

  - `podDisruptionBudget` ((#v-injector-poddisruptionbudget)) - A disruption budget limits the number of pods of a replicated application
    that are down simultaneously from voluntary disruptions

  - `strategy` ((#v-injector-strategy)) - strategy for updating the deployment. This can be a multi-line string or a
    YAML map.

### server ((#h-server))

- `server` ((#v-server))

  - `enabled` ((#v-server-enabled)) (`string: -`) - If true, or "-" with global.enabled true, Vault server will be installed.
    See vault.mode in _helpers.tpl for implementation details.

  - `enterpriseLicense` ((#v-server-enterpriselicense)) - <EnterpriseAlert inline /> This value refers to a Kubernetes secret that you have
    created that contains your enterprise license. If you are not using an
    enterprise image or if you plan to introduce the license key via another
    route, then leave secretName blank ("") or set it to null.
    Requires Vault Enterprise 1.8 or later.

    - `secretName` ((#v-server-enterpriselicense-secretname)) (`string: ""`) - The name of the Kubernetes secret that holds the enterprise license. The
      secret must be in the same namespace that Vault is installed into.

    - `secretKey` ((#v-server-enterpriselicense-secretkey)) (`string: license`) - The key within the Kubernetes secret that holds the enterprise license.

  - `image` ((#v-server-image)) - Resource requests, limits, etc. for the server cluster placement. This
    should map directly to the value of the resources field for a PodSpec.
    By default no direct resource request is made.

    - `repository` ((#v-server-image-repository)) (`string: hashicorp/vault`)

    - `tag` ((#v-server-image-tag)) (`string: 1.14.0`)

    - `pullPolicy` ((#v-server-image-pullpolicy)) (`string: IfNotPresent`) - Overrides the default Image Pull Policy

  - `updateStrategyType` ((#v-server-updatestrategytype)) (`string: OnDelete`) - Configure the Update Strategy Type for the StatefulSet
    See https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#update-strategies

  - `logLevel` ((#v-server-loglevel)) (`string: ""`) - Configure the logging verbosity for the Vault server.
    Supported log levels include: trace, debug, info, warn, error

  - `logFormat` ((#v-server-logformat)) (`string: ""`) - Configure the logging format for the Vault server.
    Supported log formats include: standard, json

  - `resources` ((#v-server-resources))

  - `ingress` ((#v-server-ingress)) - Ingress allows ingress services to be created to allow external access
    from Kubernetes to access Vault pods.
    If deployment is on OpenShift, the following block is ignored.
    In order to expose the service, use the route section below

    - `enabled` ((#v-server-ingress-enabled)) (`boolean: false`)

    - `labels` ((#v-server-ingress-labels))

    - `annotations` ((#v-server-ingress-annotations)) - traffic: external

    - `ingressClassName` ((#v-server-ingress-ingressclassname)) (`string: ""`) - Optionally use ingressClassName instead of deprecated annotation.
      See: https://kubernetes.io/docs/concepts/services-networking/ingress/#deprecated-annotation

    - `pathType` ((#v-server-ingress-pathtype)) (`string: Prefix`) - As of Kubernetes 1.19, all Ingress Paths must have a pathType configured. The default value below should be sufficient in most cases.
      See: https://kubernetes.io/docs/concepts/services-networking/ingress/#path-types for other possible values.

    - `activeService` ((#v-server-ingress-activeservice)) (`boolean: true`) - When HA mode is enabled and K8s service registration is being used,
      configure the ingress to point to the Vault active service.

    - `hosts` ((#v-server-ingress-hosts)) (`map`)

      - `host` ((#v-server-ingress-hosts-host)) (`string: chart-example.local`)

      - `paths` ((#v-server-ingress-hosts-paths)) (`map`)

    - `extraPaths` ((#v-server-ingress-extrapaths)) (`map`) - # Extra paths to prepend to the host configuration. This is useful when working with annotation based services.

    - `tls` ((#v-server-ingress-tls)) (`map`) - - path: /*
        backend:
          service:
            name: ssl-redirect
            port:
              number: use-annotation

  - `hostAliases` ((#v-server-hostaliases)) (`map`) - hostAliases is a list of aliases to be added to /etc/hosts. Specified as a YAML list.

  - `route` ((#v-server-route)) - OpenShift only - create a route to expose the service
    By default the created route will be of type passthrough

    - `enabled` ((#v-server-route-enabled)) (`boolean: false`)

    - `activeService` ((#v-server-route-activeservice)) (`boolean: true`) - When HA mode is enabled and K8s service registration is being used,
      configure the route to point to the Vault active service.

    - `labels` ((#v-server-route-labels))

    - `annotations` ((#v-server-route-annotations))

    - `host` ((#v-server-route-host)) (`string: chart-example.local`)

    - `tls` ((#v-server-route-tls)) - tls will be passed directly to the route's TLS config, which
      can be used to configure other termination methods that terminate
      TLS at the router

      - `termination` ((#v-server-route-tls-termination)) (`string: passthrough`)

  - `authDelegator` ((#v-server-authdelegator)) - authDelegator enables a cluster role binding to be attached to the service
    account.  This cluster role binding can be used to setup Kubernetes auth
    method. See https://developer.hashicorp.com/vault/docs/auth/kubernetes

    - `enabled` ((#v-server-authdelegator-enabled)) (`boolean: true`)

  - `extraInitContainers` ((#v-server-extrainitcontainers)) (`map`) - extraInitContainers is a list of init containers. Specified as a YAML list.
    This is useful if you need to run a script to provision TLS certificates or
    write out configuration files in a dynamic way.

  - `extraContainers` ((#v-server-extracontainers)) (`map`) - extraContainers is a list of sidecar containers. Specified as a YAML list.

  - `shareProcessNamespace` ((#v-server-shareprocessnamespace)) (`boolean: false`) - shareProcessNamespace enables process namespace sharing between Vault and the extraContainers
    This is useful if Vault must be signaled, e.g. to send a SIGHUP for a log rotation

  - `extraArgs` ((#v-server-extraargs)) (`string: ""`) - extraArgs is a string containing additional Vault server arguments.

  - `extraPorts` ((#v-server-extraports)) (`map`) - extraPorts is a list of extra ports. Specified as a YAML list.
    This is useful if you need to add additional ports to the statefulset in dynamic way.

  - `readinessProbe` ((#v-server-readinessprobe)) - Used to define custom readinessProbe settings

    - `enabled` ((#v-server-readinessprobe-enabled)) (`boolean: true`)

    - `port` ((#v-server-readinessprobe-port)) (`integer: 8200`) - Port number on which readinessProbe will be checked.

    - `failureThreshold` ((#v-server-readinessprobe-failurethreshold)) (`integer: 2`) - When a probe fails, Kubernetes will try failureThreshold times before giving up

    - `initialDelaySeconds` ((#v-server-readinessprobe-initialdelayseconds)) (`integer: 5`) - Number of seconds after the container has started before probe initiates

    - `periodSeconds` ((#v-server-readinessprobe-periodseconds)) (`integer: 5`) - How often (in seconds) to perform the probe

    - `successThreshold` ((#v-server-readinessprobe-successthreshold)) (`integer: 1`) - Minimum consecutive successes for the probe to be considered successful after having failed

    - `timeoutSeconds` ((#v-server-readinessprobe-timeoutseconds)) (`integer: 3`) - Number of seconds after which the probe times out.

  - `livenessProbe` ((#v-server-livenessprobe)) - Used to enable a livenessProbe for the pods

    - `enabled` ((#v-server-livenessprobe-enabled)) (`boolean: false`)

    - `path` ((#v-server-livenessprobe-path)) (`string: /v1/sys/health?standbyok=true`)

    - `port` ((#v-server-livenessprobe-port)) (`integer: 8200`) - Port number on which livenessProbe will be checked.

    - `failureThreshold` ((#v-server-livenessprobe-failurethreshold)) (`integer: 2`) - When a probe fails, Kubernetes will try failureThreshold times before giving up

    - `initialDelaySeconds` ((#v-server-livenessprobe-initialdelayseconds)) (`integer: 60`) - Number of seconds after the container has started before probe initiates

    - `periodSeconds` ((#v-server-livenessprobe-periodseconds)) (`integer: 5`) - How often (in seconds) to perform the probe

    - `successThreshold` ((#v-server-livenessprobe-successthreshold)) (`integer: 1`) - Minimum consecutive successes for the probe to be considered successful after having failed

    - `timeoutSeconds` ((#v-server-livenessprobe-timeoutseconds)) (`integer: 3`) - Number of seconds after which the probe times out.

  - `terminationGracePeriodSeconds` ((#v-server-terminationgraceperiodseconds)) (`integer: 10`) - Optional duration in seconds the pod needs to terminate gracefully.
    See: https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/

  - `preStopSleepSeconds` ((#v-server-prestopsleepseconds)) (`integer: 5`) - Used to set the sleep time during the preStop step

  - `postStart` ((#v-server-poststart)) (`map`) - Used to define commands to run after the pod is ready.
    This can be used to automate processes such as initialization
    or boostrapping auth methods.

  - `extraEnvironmentVars` ((#v-server-extraenvironmentvars)) - extraEnvironmentVars is a list of extra environment variables to set with the stateful set. These could be
    used to include variables required for auto-unseal.

  - `extraSecretEnvironmentVars` ((#v-server-extrasecretenvironmentvars)) (`map`) - extraSecretEnvironmentVars is a list of extra environment variables to set with the stateful set.
    These variables take value from existing Secret objects.

  - `extraVolumes` ((#v-server-extravolumes)) (`map`) - Deprecated: please use 'volumes' instead.
    extraVolumes is a list of extra volumes to mount. These will be exposed
    to Vault in the path `/vault/userconfig/<name>/`. The value below is
    an array of objects, examples are shown below.

  - `volumes` ((#v-server-volumes)) (`map`) - volumes is a list of volumes made available to all containers. These are rendered
    via toYaml rather than pre-processed like the extraVolumes value.
    The purpose is to make it easy to share volumes between containers.

  - `volumeMounts` ((#v-server-volumemounts)) (`map`) - volumeMounts is a list of volumeMounts for the main server container. These are rendered
    via toYaml rather than pre-processed like the extraVolumes value.
    The purpose is to make it easy to share volumes between containers.

  - `affinity` ((#v-server-affinity)) (`string`) - Affinity Settings
    Commenting out or setting as empty the affinity variable, will allow
    deployment to single node services such as Minikube
    This should be either a multi-line string or YAML matching the PodSpec's affinity field.

  - `topologySpreadConstraints` ((#v-server-topologyspreadconstraints)) (`map`) - Topology settings for server pods
    ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
    This should be either a multi-line string or YAML matching the topologySpreadConstraints array
    in a PodSpec.

  - `tolerations` ((#v-server-tolerations)) (`map`) - Toleration Settings for server pods
    This should be either a multi-line string or YAML matching the Toleration array
    in a PodSpec.

  - `nodeSelector` ((#v-server-nodeselector)) - nodeSelector labels for server pod assignment, formatted as a multi-line string or YAML map.
    ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector
    Example:
    nodeSelector:
      beta.kubernetes.io/arch: amd64

  - `networkPolicy` ((#v-server-networkpolicy)) - Enables network policy for server pods

    - `enabled` ((#v-server-networkpolicy-enabled)) (`boolean: false`)

    - `egress` ((#v-server-networkpolicy-egress)) (`map`)

  - `priorityClassName` ((#v-server-priorityclassname)) (`string: ""`) - Priority class for server pods

  - `extraLabels` ((#v-server-extralabels)) - Extra labels to attach to the server pods
    This should be a YAML map of the labels to apply to the server pods

  - `annotations` ((#v-server-annotations)) - Extra annotations to attach to the server pods
    This can either be YAML or a YAML-formatted multi-line templated string map
    of the annotations to apply to the server pods

  - `service` ((#v-server-service)) - Enables a headless service to be used by the Vault Statefulset

    - `enabled` ((#v-server-service-enabled)) (`boolean: true`)

    - `active` ((#v-server-service-active)) - Enable or disable the vault-active service, which selects Vault pods that
      have labeled themselves as the cluster leader with `vault-active: "true"`.

      - `enabled` ((#v-server-service-active-enabled)) (`boolean: true`)

      - `annotations` ((#v-server-service-active-annotations)) - Extra annotations for the service definition. This can either be YAML or a
        YAML-formatted multi-line templated string map of the annotations to apply
        to the active service.

    - `standby` ((#v-server-service-standby)) - Enable or disable the vault-standby service, which selects Vault pods that
      have labeled themselves as a cluster follower with `vault-active: "false"`.

      - `enabled` ((#v-server-service-standby-enabled)) (`boolean: true`)

      - `annotations` ((#v-server-service-standby-annotations)) - Extra annotations for the service definition. This can either be YAML or a
        YAML-formatted multi-line templated string map of the annotations to apply
        to the standby service.

    - `instanceSelector` ((#v-server-service-instanceselector)) - If enabled, the service selectors will include `app.kubernetes.io/instance: {{ .Release.Name }}`
      When disabled, services may select Vault pods not deployed from the chart.
      Does not affect the headless vault-internal service with `ClusterIP: None`

      - `enabled` ((#v-server-service-instanceselector-enabled)) (`boolean: true`)

    - `ipFamilyPolicy` ((#v-server-service-ipfamilypolicy)) (`string: ""`) - Configures the service type for the main Vault service.  Can be ClusterIP
      or NodePort.
      type: ClusterIP

      The IP family and IP families options are to set the behaviour in a dual-stack environment.
      Omitting these values will let the service fall back to whatever the CNI dictates the defaults
      should be.
      These are only supported for kubernetes versions >=1.23.0

      Configures the service's supported IP family policy, can be either:
          SingleStack: Single-stack service. The control plane allocates a cluster IP for the Service, using the first configured service cluster IP range.
          PreferDualStack: Allocates IPv4 and IPv6 cluster IPs for the Service.
          RequireDualStack: Allocates Service .spec.ClusterIPs from both IPv4 and IPv6 address ranges.

    - `ipFamilies` ((#v-server-service-ipfamilies)) (`map`) - Sets the families that should be supported and the order in which they should be applied to ClusterIP as well.
      Can be IPv4 and/or IPv6.

    - `publishNotReadyAddresses` ((#v-server-service-publishnotreadyaddresses)) (`boolean: true`) - Do not wait for pods to be ready before including them in the services'
      targets. Does not apply to the headless service, which is used for
      cluster-internal communication.

    - `externalTrafficPolicy` ((#v-server-service-externaltrafficpolicy)) (`string: Cluster`) - The externalTrafficPolicy can be set to either Cluster or Local
      and is only valid for LoadBalancer and NodePort service types.
      The default value is Cluster.
      ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-traffic-policy

    - `port` ((#v-server-service-port)) (`integer: 8200`) - If type is set to "NodePort", a specific nodePort value can be configured,
      will be random if left blank.
      nodePort: 30000

      When HA mode is enabled
      If type is set to "NodePort", a specific nodePort value can be configured,
      will be random if left blank.
      activeNodePort: 30001

      When HA mode is enabled
      If type is set to "NodePort", a specific nodePort value can be configured,
      will be random if left blank.
      standbyNodePort: 30002

      Port on which Vault server is listening

    - `targetPort` ((#v-server-service-targetport)) (`integer: 8200`) - Target port to which the service should be mapped to

    - `annotations` ((#v-server-service-annotations)) - Extra annotations for the service definition. This can either be YAML or a
      YAML-formatted multi-line templated string map of the annotations to apply
      to the service.

  - `dataStorage` ((#v-server-datastorage)) - This configures the Vault Statefulset to create a PVC for data
    storage when using the file or raft backend storage engines.
    See https://developer.hashicorp.com/vault/docs/configuration/storage to know more

    - `enabled` ((#v-server-datastorage-enabled)) (`boolean: true`)

    - `size` ((#v-server-datastorage-size)) (`string: 10Gi`) - Size of the PVC created

    - `mountPath` ((#v-server-datastorage-mountpath)) (`string: /vault/data`) - Location where the PVC will be mounted.

    - `storageClass` ((#v-server-datastorage-storageclass)) (`string: null`) - Name of the storage class to use.  If null it will use the
      configured default Storage Class.

    - `accessMode` ((#v-server-datastorage-accessmode)) (`string: ReadWriteOnce`) - Access Mode of the storage device being used for the PVC

    - `annotations` ((#v-server-datastorage-annotations)) - Annotations to apply to the PVC

  - `auditStorage` ((#v-server-auditstorage)) - This configures the Vault Statefulset to create a PVC for audit
    logs.  Once Vault is deployed, initialized, and unsealed, Vault must
    be configured to use this for audit logs.  This will be mounted to
    /vault/audit
    See https://developer.hashicorp.com/vault/docs/audit to know more

    - `enabled` ((#v-server-auditstorage-enabled)) (`boolean: false`)

    - `size` ((#v-server-auditstorage-size)) (`string: 10Gi`) - Size of the PVC created

    - `mountPath` ((#v-server-auditstorage-mountpath)) (`string: /vault/audit`) - Location where the PVC will be mounted.

    - `storageClass` ((#v-server-auditstorage-storageclass)) (`string: null`) - Name of the storage class to use.  If null it will use the
      configured default Storage Class.

    - `accessMode` ((#v-server-auditstorage-accessmode)) (`string: ReadWriteOnce`) - Access Mode of the storage device being used for the PVC

    - `annotations` ((#v-server-auditstorage-annotations)) - Annotations to apply to the PVC

  - `dev` ((#v-server-dev)) - Run Vault in "dev" mode. This requires no further setup, no state management,
    and no initialization. This is useful for experimenting with Vault without
    needing to unseal, store keys, et. al. All data is lost on restart - do not
    use dev mode for anything other than experimenting.
    See https://developer.hashicorp.com/vault/docs/concepts/dev-server to know more

    - `enabled` ((#v-server-dev-enabled)) (`boolean: false`)

    - `devRootToken` ((#v-server-dev-devroottoken)) (`string: root`) - Set VAULT_DEV_ROOT_TOKEN_ID value

  - `standalone` ((#v-server-standalone)) - Run Vault in "standalone" mode. This is the default mode that will deploy if
    no arguments are given to helm. This requires a PVC for data storage to use
    the "file" backend.  This mode is not highly available and should not be scaled
    past a single replica.

    - `enabled` ((#v-server-standalone-enabled)) (`string: -`)

    - `config` ((#v-server-standalone-config)) (`string`) - config is a raw string of default configuration when using a Stateful
      deployment. Default is to use a PersistentVolumeClaim mounted at /vault/data
      and store data there. This is only used when using a Replica count of 1, and
      using a stateful set. This should be HCL.

      Note: Configuration files are stored in ConfigMaps so sensitive data
      such as passwords should be either mounted through extraSecretEnvironmentVars
      or through a Kube secret.  For more information see:
      https://developer.hashicorp.com/vault/docs/platform/k8s/helm/run#protecting-sensitive-vault-configurations

  - `ha` ((#v-server-ha)) - Run Vault in "HA" mode. There are no storage requirements unless the audit log
    persistence is required.  In HA mode Vault will configure itself to use Consul
    for its storage backend.  The default configuration provided will work the Consul
    Helm project by default.  It is possible to manually configure Vault to use a
    different HA backend.

    - `enabled` ((#v-server-ha-enabled)) (`boolean: false`)

    - `replicas` ((#v-server-ha-replicas)) (`integer: 3`)

    - `apiAddr` ((#v-server-ha-apiaddr)) (`string: null`) - Set the api_addr configuration for Vault HA
      See https://developer.hashicorp.com/vault/docs/configuration#api_addr
      If set to null, this will be set to the Pod IP Address

    - `clusterAddr` ((#v-server-ha-clusteraddr)) (`string: null`) - Set the cluster_addr confuguration for Vault HA
      See https://developer.hashicorp.com/vault/docs/configuration#cluster_addr
      If set to null, this will be set to https://$(HOSTNAME).{{ template "vault.fullname" . }}-internal:8201

    - `raft` ((#v-server-ha-raft)) - Enables Vault's integrated Raft storage.  Unlike the typical HA modes where
      Vault's persistence is external (such as Consul), enabling Raft mode will create
      persistent volumes for Vault to store data according to the configuration under server.dataStorage.
      The Vault cluster will coordinate leader elections and failovers internally.

      - `enabled` ((#v-server-ha-raft-enabled)) (`boolean: false`) - Enables Raft integrated storage

      - `setNodeId` ((#v-server-ha-raft-setnodeid)) (`boolean: false`) - Set the Node Raft ID to the name of the pod

      - `config` ((#v-server-ha-raft-config)) (`string`) - Note: Configuration files are stored in ConfigMaps so sensitive data
        such as passwords should be either mounted through extraSecretEnvironmentVars
        or through a Kube secret.  For more information see:
        https://developer.hashicorp.com/vault/docs/platform/k8s/helm/run#protecting-sensitive-vault-configurations

    - `config` ((#v-server-ha-config)) (`string`) - config is a raw string of default configuration when using a Stateful
      deployment. Default is to use a Consul for its HA storage backend.
      This should be HCL.

      Note: Configuration files are stored in ConfigMaps so sensitive data
      such as passwords should be either mounted through extraSecretEnvironmentVars
      or through a Kube secret.  For more information see:
      https://developer.hashicorp.com/vault/docs/platform/k8s/helm/run#protecting-sensitive-vault-configurations

    - `disruptionBudget` ((#v-server-ha-disruptionbudget)) - A disruption budget limits the number of pods of a replicated application
      that are down simultaneously from voluntary disruptions

      - `enabled` ((#v-server-ha-disruptionbudget-enabled)) (`boolean: true`)

      - `maxUnavailable` ((#v-server-ha-disruptionbudget-maxunavailable)) (`integer: null`) - maxUnavailable will default to (n/2)-1 where n is the number of
        replicas. If you'd like a custom value, you can specify an override here.

  - `serviceAccount` ((#v-server-serviceaccount)) - Definition of the serviceAccount used to run Vault.
    These options are also used when using an external Vault server to validate
    Kubernetes tokens.

    - `create` ((#v-server-serviceaccount-create)) (`boolean: true`) - Specifies whether a service account should be created

    - `name` ((#v-server-serviceaccount-name)) (`string: ""`) - The name of the service account to use.
      If not set and create is true, a name is generated using the fullname template

    - `createSecret` ((#v-server-serviceaccount-createsecret)) (`boolean: false`) - Create a Secret API object to store a non-expiring token for the service account.
      Prior to v1.24.0, Kubernetes used to generate this secret for each service account by default.
      Kubernetes now recommends using short-lived tokens from the TokenRequest API or projected volumes instead if possible.
      For more details, see https://kubernetes.io/docs/concepts/configuration/secret/#service-account-token-secrets
      serviceAccount.create must be equal to 'true' in order to use this feature.

    - `annotations` ((#v-server-serviceaccount-annotations)) - Extra annotations for the serviceAccount definition. This can either be
      YAML or a YAML-formatted multi-line templated string map of the
      annotations to apply to the serviceAccount.

    - `extraLabels` ((#v-server-serviceaccount-extralabels)) - Extra labels to attach to the serviceAccount
      This should be a YAML map of the labels to apply to the serviceAccount

    - `serviceDiscovery` ((#v-server-serviceaccount-servicediscovery)) - Enable or disable a service account role binding with the permissions required for
      Vault's Kubernetes service_registration config option.
      See https://developer.hashicorp.com/vault/docs/configuration/service-registration/kubernetes

      - `enabled` ((#v-server-serviceaccount-servicediscovery-enabled)) (`boolean: true`)

  - `statefulSet` ((#v-server-statefulset)) - Settings for the statefulSet used to run Vault.

    - `annotations` ((#v-server-statefulset-annotations)) - Extra annotations for the statefulSet. This can either be YAML or a
      YAML-formatted multi-line templated string map of the annotations to apply
      to the statefulSet.

    - `securityContext` ((#v-server-statefulset-securitycontext)) - Set the pod and container security contexts.
      If not set, these will default to, and for *not* OpenShift:
      pod:
        runAsNonRoot: true
        runAsGroup: {{ .Values.server.gid | default 1000 }}
        runAsUser: {{ .Values.server.uid | default 100 }}
        fsGroup: {{ .Values.server.gid | default 1000 }}
      container:
        allowPrivilegeEscalation: false

      If not set, these will default to, and for OpenShift:
      pod: {}
      container: {}

      - `pod` ((#v-server-statefulset-securitycontext-pod))

      - `container` ((#v-server-statefulset-securitycontext-container))

  - `hostNetwork` ((#v-server-hostnetwork)) (`boolean: false`) - Should the server pods run on the host network

### ui ((#h-ui))

- `ui` ((#v-ui)) - Vault UI

  - `enabled` ((#v-ui-enabled)) (`boolean: false`) - True if you want to create a Service entry for the Vault UI.

    serviceType can be used to control the type of service created. For
    example, setting this to "LoadBalancer" will create an external load
    balancer (for supported K8S installations) to access the UI.

  - `publishNotReadyAddresses` ((#v-ui-publishnotreadyaddresses)) (`boolean: true`)

  - `activeVaultPodOnly` ((#v-ui-activevaultpodonly)) (`boolean: false`) - The service should only contain selectors for active Vault pod

  - `serviceType` ((#v-ui-servicetype)) (`string: ClusterIP`)

  - `serviceNodePort` ((#v-ui-servicenodeport)) (`integer: null`)

  - `externalPort` ((#v-ui-externalport)) (`integer: 8200`)

  - `targetPort` ((#v-ui-targetport)) (`integer: 8200`)

  - `serviceIPFamilyPolicy` ((#v-ui-serviceipfamilypolicy)) (`string: ""`) - The IP family and IP families options are to set the behaviour in a dual-stack environment.
    Omitting these values will let the service fall back to whatever the CNI dictates the defaults
    should be.
    These are only supported for kubernetes versions >=1.23.0

    Configures the service's supported IP family, can be either:
        SingleStack: Single-stack service. The control plane allocates a cluster IP for the Service, using the first configured service cluster IP range.
        PreferDualStack: Allocates IPv4 and IPv6 cluster IPs for the Service.
        RequireDualStack: Allocates Service .spec.ClusterIPs from both IPv4 and IPv6 address ranges.

  - `serviceIPFamilies` ((#v-ui-serviceipfamilies)) (`map`) - Sets the families that should be supported and the order in which they should be applied to ClusterIP as well
    Can be IPv4 and/or IPv6.

  - `externalTrafficPolicy` ((#v-ui-externaltrafficpolicy)) (`string: Cluster`) - The externalTrafficPolicy can be set to either Cluster or Local
    and is only valid for LoadBalancer and NodePort service types.
    The default value is Cluster.
    ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-traffic-policy

  - `annotations` ((#v-ui-annotations)) - loadBalancerSourceRanges:
      - 10.0.0.0/16
      - 1.78.23.3/32

    loadBalancerIP:

    Extra annotations to attach to the ui service
    This can either be YAML or a YAML-formatted multi-line templated string map
    of the annotations to apply to the ui service

### csi ((#h-csi))

- `csi` ((#v-csi)) - secrets-store-csi-driver-provider-vault

  - `enabled` ((#v-csi-enabled)) (`boolean: false`) - True if you want to install a secrets-store-csi-driver-provider-vault daemonset.

    Requires installing the secrets-store-csi-driver separately, see:
    https://github.com/kubernetes-sigs/secrets-store-csi-driver#install-the-secrets-store-csi-driver

    With the driver and provider installed, you can mount Vault secrets into volumes
    similar to the Vault Agent injector, and you can also sync those secrets into
    Kubernetes secrets.

  - `image` ((#v-csi-image))

    - `repository` ((#v-csi-image-repository)) (`string: hashicorp/vault-csi-provider`)

    - `tag` ((#v-csi-image-tag)) (`string: 1.4.0`)

    - `pullPolicy` ((#v-csi-image-pullpolicy)) (`string: IfNotPresent`)

  - `volumes` ((#v-csi-volumes)) (`map`) - volumes is a list of volumes made available to all containers. These are rendered
    via toYaml rather than pre-processed like the extraVolumes value.
    The purpose is to make it easy to share volumes between containers.

  - `volumeMounts` ((#v-csi-volumemounts)) (`map`) - volumeMounts is a list of volumeMounts for the main server container. These are rendered
    via toYaml rather than pre-processed like the extraVolumes value.
    The purpose is to make it easy to share volumes between containers.

  - `resources` ((#v-csi-resources))

  - `hmacSecretName` ((#v-csi-hmacsecretname)) (`string: ""`) - Override the default secret name for the CSI Provider's HMAC key used for
    generating secret versions.

  - `daemonSet` ((#v-csi-daemonset)) - Settings for the daemonSet used to run the provider.

    - `updateStrategy` ((#v-csi-daemonset-updatestrategy))

      - `type` ((#v-csi-daemonset-updatestrategy-type)) (`string: RollingUpdate`)

      - `maxUnavailable` ((#v-csi-daemonset-updatestrategy-maxunavailable)) (`string: ""`)

    - `annotations` ((#v-csi-daemonset-annotations)) - Extra annotations for the daemonSet. This can either be YAML or a
      YAML-formatted multi-line templated string map of the annotations to apply
      to the daemonSet.

    - `providersDir` ((#v-csi-daemonset-providersdir)) (`string: /etc/kubernetes/secrets-store-csi-providers`) - Provider host path (must match the CSI provider's path)

    - `kubeletRootDir` ((#v-csi-daemonset-kubeletrootdir)) (`string: /var/lib/kubelet`) - Kubelet host path

    - `extraLabels` ((#v-csi-daemonset-extralabels)) - Extra labels to attach to the vault-csi-provider daemonSet
      This should be a YAML map of the labels to apply to the csi provider daemonSet

    - `securityContext` ((#v-csi-daemonset-securitycontext)) - security context for the pod template and container in the csi provider daemonSet

      - `pod` ((#v-csi-daemonset-securitycontext-pod))

      - `container` ((#v-csi-daemonset-securitycontext-container))

  - `pod` ((#v-csi-pod))

    - `annotations` ((#v-csi-pod-annotations)) - Extra annotations for the provider pods. This can either be YAML or a
      YAML-formatted multi-line templated string map of the annotations to apply
      to the pod.

    - `tolerations` ((#v-csi-pod-tolerations)) (`map`) - Toleration Settings for provider pods
      This should be either a multi-line string or YAML matching the Toleration array
      in a PodSpec.

    - `nodeSelector` ((#v-csi-pod-nodeselector)) - nodeSelector labels for csi pod assignment, formatted as a multi-line string or YAML map.
      ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector
      Example:
      nodeSelector:
        beta.kubernetes.io/arch: amd64

    - `affinity` ((#v-csi-pod-affinity)) - Affinity Settings
      This should be either a multi-line string or YAML matching the PodSpec's affinity field.

    - `extraLabels` ((#v-csi-pod-extralabels)) - Extra labels to attach to the vault-csi-provider pod
      This should be a YAML map of the labels to apply to the csi provider pod

  - `agent` ((#v-csi-agent))

    - `enabled` ((#v-csi-agent-enabled)) (`boolean: true`)

    - `extraArgs` ((#v-csi-agent-extraargs)) (`map`)

    - `image` ((#v-csi-agent-image))

      - `repository` ((#v-csi-agent-image-repository)) (`string: hashicorp/vault`)

      - `tag` ((#v-csi-agent-image-tag)) (`string: 1.14.0`)

      - `pullPolicy` ((#v-csi-agent-image-pullpolicy)) (`string: IfNotPresent`)

    - `logFormat` ((#v-csi-agent-logformat)) (`string: standard`)

    - `logLevel` ((#v-csi-agent-loglevel)) (`string: info`)

    - `resources` ((#v-csi-agent-resources))

  - `priorityClassName` ((#v-csi-priorityclassname)) (`string: ""`) - Priority class for csi pods

  - `serviceAccount` ((#v-csi-serviceaccount))

    - `annotations` ((#v-csi-serviceaccount-annotations)) - Extra annotations for the serviceAccount definition. This can either be
      YAML or a YAML-formatted multi-line templated string map of the
      annotations to apply to the serviceAccount.

    - `extraLabels` ((#v-csi-serviceaccount-extralabels)) - Extra labels to attach to the vault-csi-provider serviceAccount
      This should be a YAML map of the labels to apply to the csi provider serviceAccount

  - `readinessProbe` ((#v-csi-readinessprobe)) - Used to configure readinessProbe for the pods.

    - `failureThreshold` ((#v-csi-readinessprobe-failurethreshold)) (`integer: 2`) - When a probe fails, Kubernetes will try failureThreshold times before giving up

    - `initialDelaySeconds` ((#v-csi-readinessprobe-initialdelayseconds)) (`integer: 5`) - Number of seconds after the container has started before probe initiates

    - `periodSeconds` ((#v-csi-readinessprobe-periodseconds)) (`integer: 5`) - How often (in seconds) to perform the probe

    - `successThreshold` ((#v-csi-readinessprobe-successthreshold)) (`integer: 1`) - Minimum consecutive successes for the probe to be considered successful after having failed

    - `timeoutSeconds` ((#v-csi-readinessprobe-timeoutseconds)) (`integer: 3`) - Number of seconds after which the probe times out.

  - `livenessProbe` ((#v-csi-livenessprobe)) - Used to configure livenessProbe for the pods.

    - `failureThreshold` ((#v-csi-livenessprobe-failurethreshold)) (`integer: 2`) - When a probe fails, Kubernetes will try failureThreshold times before giving up

    - `initialDelaySeconds` ((#v-csi-livenessprobe-initialdelayseconds)) (`integer: 5`) - Number of seconds after the container has started before probe initiates

    - `periodSeconds` ((#v-csi-livenessprobe-periodseconds)) (`integer: 5`) - How often (in seconds) to perform the probe

    - `successThreshold` ((#v-csi-livenessprobe-successthreshold)) (`integer: 1`) - Minimum consecutive successes for the probe to be considered successful after having failed

    - `timeoutSeconds` ((#v-csi-livenessprobe-timeoutseconds)) (`integer: 3`) - Number of seconds after which the probe times out.

  - `debug` ((#v-csi-debug)) (`boolean: false`) - Enables debug logging.

  - `extraArgs` ((#v-csi-extraargs)) (`map`) - Pass arbitrary additional arguments to vault-csi-provider.
    See https://developer.hashicorp.com/vault/docs/platform/k8s/csi/configurations#command-line-arguments
    for the available command line flags.

### serverTelemetry ((#h-servertelemetry))

- `serverTelemetry` ((#v-servertelemetry)) - Vault is able to collect and publish various runtime metrics.
  Enabling this feature requires setting adding `telemetry{}` stanza to
  the Vault configuration. There are a few examples included in the `config` sections above.

  For more information see:
  https://developer.hashicorp.com/vault/docs/configuration/telemetry
  https://developer.hashicorp.com/vault/docs/internals/telemetry

  - `serviceMonitor` ((#v-servertelemetry-servicemonitor)) - Enable support for the Prometheus Operator. Currently, this chart does not support
    authenticating to Vault's metrics endpoint, so the following `telemetry{}` must be included
    in the `listener "tcp"{}` stanza
     telemetry {
       unauthenticated_metrics_access = "true"
     }

    See the `standalone.config` for a more complete example of this.

    In addition, a top level `telemetry{}` stanza must also be included in the Vault configuration:

    example:
     telemetry {
       prometheus_retention_time = "30s"
       disable_hostname = true
     }

    Configuration for monitoring the Vault server.

    - `enabled` ((#v-servertelemetry-servicemonitor-enabled)) (`boolean: false`) - The Prometheus operator *must* be installed before enabling this feature,
      if not the chart will fail to install due to missing CustomResourceDefinitions
      provided by the operator.

      Instructions on how to install the Helm chart can be found here:
       https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack
      More information can be found here:
       https://github.com/prometheus-operator/prometheus-operator
       https://github.com/prometheus-operator/kube-prometheus

      Enable deployment of the Vault Server ServiceMonitor CustomResource.

    - `selectors` ((#v-servertelemetry-servicemonitor-selectors)) - Selector labels to add to the ServiceMonitor.
      When empty, defaults to:
       release: prometheus

    - `interval` ((#v-servertelemetry-servicemonitor-interval)) (`string: 30s`) - Interval at which Prometheus scrapes metrics

    - `scrapeTimeout` ((#v-servertelemetry-servicemonitor-scrapetimeout)) (`string: 10s`) - Timeout for Prometheus scrapes

  - `prometheusRules` ((#v-servertelemetry-prometheusrules))

      - `enabled` ((#v-servertelemetry-prometheusrules-enabled)) (`boolean: false`) - The Prometheus operator *must* be installed before enabling this feature,
        if not the chart will fail to install due to missing CustomResourceDefinitions
        provided by the operator.

        Deploy the PrometheusRule custom resource for AlertManager based alerts.
        Requires that AlertManager is properly deployed.

      - `selectors` ((#v-servertelemetry-prometheusrules-selectors)) - Selector labels to add to the PrometheusRules.
        When empty, defaults to:
         release: prometheus

      - `rules` ((#v-servertelemetry-prometheusrules-rules)) (`map`) - Some example rules.

  <!-- codegen: end -->
